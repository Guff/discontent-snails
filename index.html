<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>discontent snails level editor</title>
<link rel="stylesheet" type="text/css" href="leveleditor.css" />
<link href='http://fonts.googleapis.com/css?family=Anonymous+Pro:400' rel='stylesheet' type='text/css' />
<script type="text/javascript" src="terraineditor.js"></script>
<script type="text/javascript" src="leveleditor.js"></script>
</head>
<body onload="initEditor();">
<div id="levelText">
<form name="levelJSON">
<textarea name="levelJSONtext" id="levelJSONtext">{
    "name": "Test level",
    "num": 1,
    "width": 640,
    "height": 480,
    "snails": [
        {
            "type": "normal",
            "x": 100,
            "y": 425
        },
        {
            "type": "normal",
            "x": 70,
            "y": 425
        }
    ],
    "obstacles": [
        {
            "shape": "rect",
            "type": "wood",
            "x": 425,
            "y": 325,
            "angle": 0
        },
        {
            "shape": "rect",
            "type": "wood",
            "x": 378,
            "y": 415,
            "angle": 90
        },
        {
            "shape": "rect",
            "type": "wood",
            "x": 402,
            "y": 355,
            "angle": 90
        },
        {
            "shape": "rect",
            "type": "wood",
            "x": 452,
            "y": 385,
            "angle": 0
        },
        {
            "shape": "rect",
            "type": "wood",
            "x": 402,
            "y": 385,
            "angle": 0
        },
        {
            "shape": "rect",
            "type": "wood",
            "x": 425,
            "y": 415,
            "angle": 90
        },
        {
            "shape": "rect",
            "type": "wood",
            "x": 448,
            "y": 355,
            "angle": 90
        },
        {
            "shape": "rect",
            "type": "wood",
            "x": 475,
            "y": 415,
            "angle": 90
        }
    ],
    "enemies": [
        {
            "type": "normal",
            "x": 450,
            "y": 424,
            "angle": 0
        },
        {
            "type": "normal",
            "x": 401,
            "y": 424,
            "angle": 0
        }
    ],
    "slingshot": {
        "x": 120,
        "y": 440
    },
    "terrain": [
        {
            "x0": 200,
            "y0": 440,
            "x1": 250,
            "y1": 440,
            "x2": 250,
            "y2": 400
        },
        {
            "x0": 250,
            "y0": 440,
            "x1": 300,
            "y1": 440,
            "x2": 250,
            "y2": 400
        }
    ]
}</textarea>
<br>
<button type="button" id="updateButton" onclick="updateLevel();">update</button>
<input type="file" id="fileInput" onchange="handleFile(this.files)" />
</form>
</div>
<div id="levelEditor">
    <canvas id="levelCanvas" width="640" height="480" tabindex="1">
        your browser sucks
    </canvas>
    <div id="statusBar">
        <p id="statusText">
            <span id="modeText" style="float:left"></span>
            <span id="posText" style="float:right"></span>
        </p>
    </div>
    <input type="text" id="angleInput" hidden="true"></input>
</div>
<div id="images">
<img src="data/wooden-block-50x10.png" id="woodRect" />
<img src="data/stone-block-50x10.png" id="stoneRect" />
<img src="data/glass-block-50x10.png" id="glassRect" />
<img src="data/slingshot.png" id="slingshot" />
<img src="data/sky-bg.png" id="bg" />
<img src="data/ground.png" id="ground" />
<img src="data/snail-normal.png" id="snail" />
<img src="data/stone.png" id="stone" />
</div>
</body>
</html>
